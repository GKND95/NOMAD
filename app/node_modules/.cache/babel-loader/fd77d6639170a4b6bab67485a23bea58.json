{"ast":null,"code":"import \"antd/es/col/style\";\nimport _Col from \"antd/es/col\";\nimport _slicedToArray from \"/Users/yanivsilberman/Desktop/NOMAD/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/yanivsilberman/Desktop/NOMAD/app/src/App.js\";\nimport React, { useState, useReducer, createContext } from 'react';\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport { useTransition, animated } from 'react-spring';\nimport axios from 'axios';\nimport { Row } from './styles';\nimport { reducer, initialState } from './reducer';\nimport useRouter from './useRouter';\nimport Map from './components/Map';\nimport Home from './pages/Home';\nimport Form from './pages/Form';\nconst apiUrl = 'http://localhost:4000';\nconst initialViewState = {\n  longitude: 43.2473,\n  latitude: 11.7172,\n  zoom: 1,\n  pitch: 0,\n  bearing: 0\n};\nconst data = [{\n  sourcePosition: [-122.41669, 37.7853],\n  targetPosition: [-122.41669, 37.781]\n}];\nconst CountryContext = React.createContext({\n  country: 'iceland'\n});\n\nfunction App() {\n  const _useRouter = useRouter(),\n        location = _useRouter.location;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        results = _useState2[0],\n        setResults = _useState2[1];\n\n  const _useReducer = useReducer(reducer, initialState),\n        _useReducer2 = _slicedToArray(_useReducer, 2),\n        state = _useReducer2[0],\n        dispatch = _useReducer2[1];\n\n  const fetchData = async () => {\n    const result = await axios.get(apiUrl, {\n      params: state\n    });\n    setResults(result.data);\n  };\n\n  const transitions = useTransition(location, location => location.pathname, {\n    from: {\n      opacity: 0,\n      transform: 'translate3d(0, 100vw, 0)'\n    },\n    enter: {\n      opacity: 1,\n      transform: 'translate3d(0, 0, 0)'\n    },\n    leave: {\n      opacity: 0,\n      transform: 'translate3d(-20vw, 0, 0)'\n    }\n  });\n  return React.createElement(CountryContext.Provider, {\n    value: {\n      country: 'iceland'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(_Col, {\n    span: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, transitions.map(({\n    item,\n    props,\n    key\n  }) => React.createElement(animated.div, {\n    key: key,\n    style: props,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    location: item,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(Route, {\n    path: \"/\",\n    component: Home,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/form/:country\",\n    component: Form,\n    exact: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }))))), React.createElement(_Col, {\n    span: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(Map, {\n    data: data,\n    initialViewState: initialViewState,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yanivsilberman/Desktop/NOMAD/app/src/App.js"],"names":["React","useState","useReducer","createContext","BrowserRouter","Switch","Route","Link","useTransition","animated","axios","Row","reducer","initialState","useRouter","Map","Home","Form","apiUrl","initialViewState","longitude","latitude","zoom","pitch","bearing","data","sourcePosition","targetPosition","CountryContext","country","App","location","results","setResults","state","dispatch","fetchData","result","get","params","transitions","pathname","from","opacity","transform","enter","leave","map","item","props","key"],"mappings":"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","sourcesContent":["import React, { useState, useReducer, createContext } from 'react';\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport { useTransition, animated } from 'react-spring';\nimport axios from 'axios';\nimport { Col } from 'antd';\n\nimport { Row } from './styles';\nimport { reducer, initialState } from './reducer';\nimport useRouter from './useRouter';\nimport Map from './components/Map';\nimport Home from './pages/Home';\nimport Form from './pages/Form';\n\nconst apiUrl = 'http://localhost:4000';\n\nconst initialViewState = {\n  longitude: 43.2473,\n  latitude: 11.7172,\n  zoom: 1,\n  pitch: 0,\n  bearing: 0\n};\n\nconst data = [{\n  sourcePosition: [-122.41669, 37.7853], \n  targetPosition: [-122.41669, 37.781]\n}];\n\nconst CountryContext = React.createContext({\n  country: 'iceland'\n});\n\nfunction App() {\n  const { location } = useRouter();\n  const [ results, setResults ] = useState([]);\n  const [ state, dispatch ] = useReducer(reducer, initialState);\n\n  const fetchData = async () => {\n    const result = await axios.get(apiUrl, {\n      params: state\n    });\n    setResults(result.data);\n  };\n\n  const transitions = useTransition(location, (location) => location.pathname, {\n    from: { opacity: 0, transform: 'translate3d(0, 100vw, 0)' },\n    enter: { opacity: 1, transform: 'translate3d(0, 0, 0)' },\n    leave: { opacity: 0, transform: 'translate3d(-20vw, 0, 0)' },\n  });\n\n  return (\n    <CountryContext.Provider value={{ country: 'iceland' }}>\n      <Row>\n        <Col span={12}>\n          {transitions.map(({ item, props, key }) => (\n            <animated.div key={key} style={props}>\n              <Switch location={item}>\n                <Route path=\"/\" component={Home} exact />\n                <Route path=\"/form/:country\" component={Form} exact />\n              </Switch>\n            </animated.div>\n          ))}\n        </Col>\n        <Col span={12}>\n          <Map \n            data={data}\n            initialViewState={initialViewState}\n          />\n        </Col>\n      </Row>\n    </CountryContext.Provider>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}